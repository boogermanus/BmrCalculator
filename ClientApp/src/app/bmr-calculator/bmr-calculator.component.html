<form [formGroup]="form" class="ml-4">
    <div class="row mb-2">
        <div class="col-md-4">
            <div class="input-group">
                <div class="input-group-prepend">
                    <span class="input-group-text">Gender</span>
                </div>
                <mat-select class="form-control" formControlName="gender">
                    <mat-option *ngFor="let gender of genders" [value]="gender.typeValue">{{gender.caption}}
                    </mat-option>
                </mat-select>
            </div>
            <label class="alert alert-danger mt-1" *ngIf="controlIsInvalid(gender)">Gender is required</label>
        </div>
    </div>
    <div class="row mb-2">
        <div class="col-md-4">
            <div class="input-group">
                <div class="input-group-prepend">
                    <span class="input-group-text">Unit of Measure</span>
                </div>
                <mat-select class="form-control" formControlName="unitOfMeasure">
                    <mat-option *ngFor="let uom of unitsOfMeasure" [value]="uom.typeValue">{{uom.caption}}</mat-option>
                </mat-select>
            </div>
            <label class="alert alert-danger mt-1" *ngIf="controlIsInvalid(unitOfMeasure)">Unit of Measure is required</label>
        </div>
    </div>
    <div class="row mb-2">
        <div class="col-md-4">
            <div class="input-group">
                <div class="input-group-prepend">
                    <span class="input-group-text">Name</span>
                </div>
                <input type="text" class="form-control" formControlName="name">
            </div>
            <label class="alert alert-danger mt-1" *ngIf="controlIsInvalid(name)">Name is required</label>
        </div>
    </div>
    <div class="row mb-2">
        <div class="col-md-4">
            <div class="input-group">
                <div class="input-group-prepend">
                    <span class="input-group-text">Age</span>
                </div>
                <input type="number" class="form-control" min="0" max="120" step="1" formControlName="age">
            </div>
            <label class="alert alert-danger mt-1" *ngIf="controlIsInvalid(age)">{{ageInvalidMessage}}</label>
        </div>
    </div>
    <div class="row mb-2">
        <div class="col-md-4">
            <div class="input-group">
                <div class="input-group-prepend">
                    <span class="input-group-text">{{weightText}}</span>
                </div>
                <input type="number" class="form-control" min="0" formControlName="weight">
            </div>
            <label class="alert alert-danger mt-1" *ngIf="controlIsInvalid(weight)">{{weightInvalidMessage}}</label>
        </div>
    </div>
    <div class="row mb-2">
        <div class="col-md-4">
            <div class="input-group">
                <div class="input-group-prepend">
                    <span class="input-group-text">{{heightText}}</span>
                </div>
                <input type="number" class="form-control" min="0" formControlName="height">
                <input type="number" *ngIf="unitOfMeasure.value === 'i'" class="form-control" min="0" max="11"
                    formControlName="heightInInches">
            </div>
            <label class="alert alert-danger mt-1" *ngIf="heightInvalid">Invalid Height</label>
        </div>
    </div>
    <div class="row">
        <div class="col-md-4">
            <button mat-raised-button color="primary" class="float-right ml-3" [disabled]="!canSave"
                (click)="save()">Save</button>
            <button mat-raised-button color="primary" class="float-right" (click)="calculate()">Calculate</button>
        </div>
    </div>
</form>
<div class="row mt-2" *ngIf="isCalculated">
    <div class="col-md-4 text-center">
        <h2>Your B.M.R. is: {{brmCalculation.bmr}}</h2>
    </div>
</div>